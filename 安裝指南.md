# 🚀 YK 自我進化系統 - 完整安裝指南

## 📦 下載的檔案清單

您應該有以下 8 個檔案：

```
YK_evolution_system/
├── main.py                      # 主程式（15.1 KB）
├── evolution_engine.py          # 進化引擎（15.4 KB）
├── sandbox_executor.py          # 沙盒執行器（16.5 KB）
├── memory_manager.py            # 記憶管理器（15.4 KB）
├── hybrid_ai.py                 # 混合 AI（11.8 KB）
├── requirements.txt             # 依賴套件（0.4 KB）
├── START_YK_EVOLUTION.bat       # Windows 啟動腳本（3.8 KB）
└── README.md                    # 完整說明文件（8.1 KB）
```

**總大小**：約 86 KB

---

## 🎯 安裝步驟（3 分鐘完成）

### **步驟 1：創建專案資料夾**

在您的電腦上創建以下結構：

```
C:\YK\
└── core\
```

或者使用其他位置，例如：
```
D:\Projects\YK\
└── core\
```

---

### **步驟 2：放置檔案**

將下載的所有檔案解壓縮並複製到 `core\` 資料夾中：

```
C:\YK\core\
├── main.py
├── evolution_engine.py
├── sandbox_executor.py
├── memory_manager.py
├── hybrid_ai.py
├── requirements.txt
├── START_YK_EVOLUTION.bat
└── README.md
```

---

### **步驟 3：創建環境配置檔**

在 `C:\YK\core\` 資料夾中創建新檔案 `.env.local`

**檔案內容**：

```env
# YK Evolution System - Environment Configuration

# Gemini API 金鑰（必填）
GEMINI_API_KEY=你的_API_金鑰_貼在這裡

# 可選：本地 LLM 設定（如果沒有可留空）
LOCAL_LLM_MODEL_PATH=

# 系統設定
ENABLE_DEBUG=false
LOG_LEVEL=INFO
```

**如何取得 Gemini API 金鑰**：

1. 前往：https://aistudio.google.com/apikey
2. 登入您的 Google 帳號
3. 點擊「Create API Key」
4. 複製產生的金鑰
5. 貼到 `.env.local` 的 `GEMINI_API_KEY=` 後面

> ⚠️ **注意**：`.env.local` 檔案名稱前面有個點 (.)，Windows 可能會警告，這是正常的。

---

### **步驟 4：安裝 Python（如果還沒有）**

1. 下載 Python 3.8+：https://www.python.org/downloads/
2. 安裝時**勾選**「Add Python to PATH」
3. 完成安裝後，開啟命令提示字元確認：
   ```cmd
   python --version
   ```
   應該顯示類似：`Python 3.11.x`

---

### **步驟 5：安裝依賴套件**

開啟**命令提示字元**（CMD）或 **PowerShell**：

```cmd
cd C:\YK\core
pip install -r requirements.txt
```

這會安裝：
- `google-generativeai` - Gemini API
- `python-dotenv` - 環境變數管理
- `transformers` - 本地 LLM（可選）
- `torch` - 深度學習框架
- `numpy` - 數值計算

> 📝 首次安裝約需 2-5 分鐘（視網路速度）

---

## 🚀 啟動系統

### **方法 1：雙擊啟動（推薦）**

直接雙擊 `START_YK_EVOLUTION.bat`

系統會：
1. 檢查環境
2. 啟動互動模式
3. 開始閒置監控（3 分鐘自動進化）

---

### **方法 2：命令列啟動**

```cmd
cd C:\YK\core
python main.py
```

**啟動參數**：

```cmd
# 互動模式（預設）
python main.py

# 自主進化模式
python main.py --auto

# 指定專案路徑
python main.py --project-path "D:\MyProject"

# 組合使用
python main.py --auto --project-path "D:\MyProject"
```

---

## 📖 使用方式

### **互動模式命令**

啟動後您會看到：

```
YK> _
```

可用命令：

| 命令 | 說明 | 範例 |
|------|------|------|
| `evolve` | 進化所有模塊 | `evolve` |
| `evolve [模塊名]` | 進化指定模塊 | `evolve main.py` |
| `status` | 顯示系統狀態 | `status` |
| `stats` | 顯示進化統計 | `stats` |
| `memory <查詢>` | 搜索記憶 | `memory bug fix` |
| `config <鍵> <值>` | 修改配置 | `config idle_evolution_minutes 5` |
| `auto` | 切換自主模式 | `auto` |
| `exit` | 退出系統 | `exit` |

---

### **💤 閒置自動進化**

系統會自動監控您的活動：

- **有輸入命令** → 重置計時器
- **閒置 3 分鐘** → 自動進化
- **進化中輸入** → 不會中斷

調整閒置時間：
```bash
YK> config idle_evolution_minutes 5  # 改為 5 分鐘
YK> config enable_idle_evolution false  # 關閉閒置進化
```

---

## ⚙️ 配置選項

在互動模式中使用 `config` 命令修改：

```bash
# 定時進化間隔（小時）
YK> config auto_evolution_interval_hours 12

# 閒置進化時間（分鐘）
YK> config idle_evolution_minutes 5

# 啟用/關閉閒置進化
YK> config enable_idle_evolution true

# 自動應用改進
YK> config auto_apply_improvements true

# 最低質量閾值（0.0-1.0）
YK> config min_quality_threshold 0.7

# 啟動時立即進化
YK> config evolution_on_startup true
```

---

## 🔧 常見問題排解

### **問題 1：找不到 Python**
```
'python' 不是內部或外部命令...
```

**解決方法**：
1. 重新安裝 Python 並勾選「Add to PATH」
2. 或使用完整路徑：`C:\Python311\python.exe main.py`

---

### **問題 2：套件安裝失敗**
```
ERROR: Could not find a version that satisfies...
```

**解決方法**：
```cmd
# 升級 pip
python -m pip install --upgrade pip

# 重新安裝
pip install -r requirements.txt
```

---

### **問題 3：Gemini API 錯誤**
```
❌ Gemini API 連接失敗
```

**解決方法**：
1. 檢查 `.env.local` 檔案是否存在
2. 確認 `GEMINI_API_KEY` 正確無誤
3. 確保有網路連線
4. 驗證 API 金鑰：https://aistudio.google.com/apikey

---

### **問題 4：權限錯誤**
```
PermissionError: [Errno 13] Permission denied
```

**解決方法**：
1. 以**系統管理員**身分執行命令提示字元
2. 或將專案移到無需管理員權限的資料夾（如 `D:\Projects\`）

---

### **問題 5：無法創建 .env.local**

Windows 檔案總管不允許創建以 `.` 開頭的檔案。

**解決方法 A（命令列）**：
```cmd
cd C:\YK\core
notepad .env.local
```
會提示「檔案不存在，是否建立？」點擊「是」

**解決方法 B（重新命名）**：
1. 先創建 `env.local.txt`
2. 在命令列執行：`ren env.local.txt .env.local`

---

## 📊 系統需求

### **最低需求**
- **作業系統**：Windows 10/11、macOS 10.14+、Linux
- **Python**：3.8 或更高版本
- **記憶體**：4 GB RAM
- **硬碟空間**：2 GB（含依賴套件）
- **網路**：需連線（Gemini API）

### **建議需求**
- **Python**：3.10 或 3.11
- **記憶體**：8 GB RAM
- **硬碟空間**：5 GB
- **GPU**：NVIDIA（如使用本地 LLM）

---

## 🎯 第一次執行會發生什麼？

```
1. 系統初始化
   ├── 檢查環境變數
   ├── 連接 Gemini API
   ├── 創建記憶庫資料夾
   └── 初始化沙盒環境

2. 進入互動模式
   ├── 啟動閒置監控
   └── 等待您的命令

3. 第一次進化（手動或自動）
   ├── 掃描所有 .py 檔案
   ├── 分析代碼品質
   ├── 生成改進方案
   ├── 運行測試驗證
   └── 應用改進（如通過測試）

4. 持續運作
   ├── 定時進化（每 24 小時）
   ├── 閒置進化（3 分鐘無活動）
   └── 累積進化記憶
```

---

## 📁 系統會創建的資料夾

啟動後，系統會自動創建：

```
C:\YK\
├── core\                           # 您的檔案
│   ├── main.py
│   ├── ...
│   └── .env.local
│
├── evolution_history\              # 自動創建：進化歷史
│   ├── 20260212_143022_main.py.json
│   └── ...
│
└── memories\                       # 自動創建：記憶庫
    ├── evolution_memories.json
    └── ...
```

---

## 🎓 下一步學習

1. **閱讀** `README.md` 了解詳細功能
2. **執行** `evolve` 體驗第一次進化
3. **觀察**進化歷史記錄
4. **調整**配置參數以符合您的需求
5. **探索**自主模式讓系統完全自動運作

---

## 📞 需要幫助？

- **完整文檔**：查看 `README.md`
- **配置範例**：查看 `.env.local`
- **啟動腳本**：查看 `START_YK_EVOLUTION.bat`

---

## ✅ 快速檢查清單

安裝前確認：

- [ ] 已創建 `C:\YK\core\` 資料夾
- [ ] 已複製所有 8 個檔案
- [ ] 已創建 `.env.local` 並填入 API 金鑰
- [ ] 已安裝 Python 3.8+
- [ ] 已執行 `pip install -r requirements.txt`
- [ ] 可以雙擊執行 `START_YK_EVOLUTION.bat`

全部完成？**恭喜！您可以開始使用 YK 自我進化系統了！** 🎉

---

**版本**：1.0.0  
**最後更新**：2026-02-12  
**作者**：YK Evolution Team
